import{T as A,o as i,a as m,b as e,d as r,F as $,u as t,i as B,e as o,f as P,g as V,h as y,t as R}from"./app-C8VQvZ0f.js";import{_ as L}from"./LayoutMain-ZFijm9Gj.js";import{_ as S}from"./HeadLogo-BA8DlMdf.js";import{_ as F}from"./SectionTitleLineWithButton-CORxjxXV.js";import{m as k,a as M,b as T,c as w}from"./colors-CEsUPgXD.js";import{_ as E}from"./CardBox-D-3MIlS4.js";import{_ as g}from"./FormField-bCdG-tNU.js";import{_ as h}from"./FormControl-haua1sQz.js";import{_ as z}from"./BaseButtons-BYm_JhLH.js";import{_ as p}from"./BaseButton-D751zZDp.js";import"./main-C82n4mBH.js";import"./BaseDivider-ugWBZYPJ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const D={class:"mt-8"},G={class:"mt-4"},O={class:"flex justify-between items-center mb-3"},H={key:1,class:"text-xs text-gray-500 italic"},J={class:"flex justify-between items-center mb-2"},K={class:"text-sm font-medium"},Q={class:"mt-3"},W={class:"flex justify-between items-center mb-2"},X={key:1,class:"text-xs text-gray-500 italic"},Y={class:"flex-1"},Z={class:"w-24"},de={__name:"Create",props:{title:String,routeName:String},setup(_){const U=_,s=A({name:null,rubrics:[{title:"",items:[]}]}),j=a=>{s.rubrics[a].items.length<10&&s.rubrics[a].items.push({question:"",answers:[]})},N=(a,l)=>{s.rubrics[a].items[l].answers.length<5&&s.rubrics[a].items[l].answers.push({text:"",score:0})},q=(a,l)=>{s.rubrics[a].items.splice(l,1)},x=(a,l,c)=>{s.rubrics[a].items[l].answers.splice(c,1)},C=()=>{s.post(route(`${U.routeName}store`))};return(a,l)=>(i(),m($,null,[e(S,{title:_.title},null,8,["title"]),e(L,null,{default:r(()=>[e(F,{icon:t(k),title:_.title,main:""},{default:r(()=>[e(t(B),{href:a.route(`${_.routeName}index`)},{default:r(()=>l[1]||(l[1]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-x",viewBox:"0 0 16 16"},[o("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})],-1)])),_:1},8,["href"])]),_:1},8,["icon","title"]),e(E,{isForm:"",onSubmit:P(C,["prevent"])},{footer:r(()=>[e(z,null,{default:r(()=>[e(p,{href:a.route(`${_.routeName}index`),icon:t(M),color:"white",label:"Cancelar"},null,8,["href","icon"]),e(p,{onClick:C,icon:t(T),type:"submit",color:"success",label:"Guardar",disabled:t(s).processing},null,8,["icon","disabled"])]),_:1})]),default:r(()=>[e(g,{label:"Nombre del Tipo de Artículo:",required:!0,help:"Nombre del tipo",error:t(s).errors.name},{default:r(()=>[e(h,{modelValue:t(s).name,"onUpdate:modelValue":l[0]||(l[0]=c=>t(s).name=c),placeholder:"Ej: Artículo Científico, Ensayo, etc."},null,8,["modelValue"])]),_:1},8,["error"]),o("div",D,[(i(!0),m($,null,V(t(s).rubrics,(c,n)=>(i(),m("div",{key:n,class:"mb-6"},[e(E,{class:"bg-gray-50"},{default:r(()=>[l[4]||(l[4]=o("h4",{class:"text-md font-medium mb-4"},"Rúbrica",-1)),e(g,{label:"Título de la Rúbrica:",required:!0,error:t(s).errors[`rubrics.${n}.title`]},{default:r(()=>[e(h,{modelValue:c.title,"onUpdate:modelValue":f=>c.title=f,placeholder:"Ej: Criterios de Evaluación General"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"]),o("div",G,[o("div",O,[l[2]||(l[2]=o("h5",{class:"text-sm font-medium"},"Preguntas/Criterios",-1)),o("div",null,[c.items.length<10?(i(),y(p,{key:0,onClick:f=>j(n),icon:t(k),color:"success",label:"Agregar Pregunta",small:"",outline:""},null,8,["onClick","icon"])):(i(),m("p",H,"Máximo 10 preguntas alcanzado"))])]),(i(!0),m($,null,V(c.items,(f,u)=>(i(),m("div",{key:u,class:"mb-4 p-4 rounded"},[o("div",J,[o("h6",K,"Pregunta "+R(u+1),1),e(p,{onClick:d=>q(n,u),icon:t(w),color:"danger",small:"",outline:""},null,8,["onClick","icon"])]),e(g,{label:`Pregunta ${u+1}:`,required:!0,error:t(s).errors[`rubrics.${n}.items.${u}.question`]},{default:r(()=>[e(h,{modelValue:f.question,"onUpdate:modelValue":d=>f.question=d,placeholder:"Ej: ¿El artículo presenta una metodología clara?"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label","error"]),o("div",Q,[o("div",W,[l[3]||(l[3]=o("span",{class:"text-xs font-medium"},"Opciones de Respuesta",-1)),o("div",null,[f.answers.length<5?(i(),y(p,{key:0,onClick:d=>N(n,u),icon:t(k),color:"info",label:"Agregar Respuesta",small:"",outline:""},null,8,["onClick","icon"])):(i(),m("p",X,"Máximo 4 respuestas alcanzado"))])]),(i(!0),m($,null,V(f.answers,(d,b)=>(i(),m("div",{key:b,class:"flex gap-2 mb-2 items-end"},[o("div",Y,[e(g,{label:`Respuesta ${b+1}:`,error:t(s).errors[`rubrics.${n}.items.${u}.answers.${b}.text`]},{default:r(()=>[e(h,{modelValue:d.text,"onUpdate:modelValue":v=>d.text=v,placeholder:"Ej: Excelente, Bueno, Regular, Deficiente"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label","error"])]),o("div",Z,[e(g,{label:"Puntaje:",error:t(s).errors[`rubrics.${n}.items.${u}.answers.${b}.score`]},{default:r(()=>[e(h,{modelValue:d.score,"onUpdate:modelValue":v=>d.score=v,type:"number",step:"0.1",placeholder:"0.0"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),e(p,{onClick:v=>x(n,u,b),icon:t(w),color:"danger",small:"",outline:""},null,8,["onClick","icon"])]))),128))])]))),128))])]),_:2},1024)]))),128))])]),_:1})]),_:1})],64))}};export{de as default};
