import{_}from"./CardBox-D-3MIlS4.js";import{_ as F}from"./LayoutMain-ZFijm9Gj.js";import{_ as j}from"./SectionTitleLineWithButton-CORxjxXV.js";import{a8 as q,e as V,a as P,b as T}from"./colors-CEsUPgXD.js";import{_ as x}from"./BaseButton-D751zZDp.js";import{_ as B}from"./BaseButtons-BYm_JhLH.js";import"./sweetalert2.esm.all-BccGxJ0c.js";/* empty css                        */import{_ as r}from"./FormField-bCdG-tNU.js";import{_ as k}from"./FormControl-haua1sQz.js";import{V as E,F as v}from"./flowbite-vue-WjY8nwBi.js";import{r as R,T as D,o as u,a as d,b as e,d as l,F as w,u as s,i as L,e as o,h as $,l as N,t as b,j as g}from"./app-C8VQvZ0f.js";import{_ as C}from"./NotificationBar-BzVJ0lcM.js";import{_ as U}from"./HeadLogo-BA8DlMdf.js";import{_ as i}from"./LabelControl-m7hiFd44.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./main-C82n4mBH.js";import"./BaseDivider-ugWBZYPJ.js";import"./BaseLevel-vlIqV0r8.js";const I={class:"md:grid md:grid-cols-5 gap-4 md:space-y-0 space-y-5"},z={class:"grid grid-cols-1 gap-2 md:grid-cols-2 mb-5"},A={key:0,class:"bg-slate-100 border-4 border-dashed border-gray-400 flex flex-col items-center justify-center rounded-lg shadow-lg p-6 md:p-10 mb-4 dark:bg-gray-800 dark:border-gray-600"},M={class:"w-auto mb-2 text-sm md:text-base font-medium text-gray-700 dark:text-gray-300"},O={class:"font-semibold mt-2"},G={class:"font-semibold"},K={class:"w-full flex justify-center mt-8 mb-4"},H=["src"],J=["src"],Q={key:1,class:"bg-slate-100 border-4 border-dashed border-gray-400 flex flex-col items-center justify-center rounded-lg shadow-lg p-6 md:p-10 mb-4 dark:bg-gray-800 dark:border-gray-600"},W={class:"border-t border-gray-300 dark:border-gray-700 pt-6 mt-6 space-y-4"},X={key:0,class:"space-y-5"},Y={key:0,class:"bg-slate-100 border-4 border-dashed border-gray-400 flex flex-col items-center justify-center rounded-lg shadow-lg p-6 dark:bg-gray-800 dark:border-gray-600"},Z={class:"w-auto text-center font-medium text-gray-700 dark:text-gray-300"},ee={class:"font-semibold"},ae=["href"],te={key:1,class:"bg-slate-100 border-4 border-dashed border-gray-400 flex items-center justify-center rounded-lg p-6 dark:bg-gray-800 dark:border-gray-600"},le={class:"col-span-2 h-full lg:relative"},re={class:"grid grid-cols-1 gap-2 md:grid-cols-2 mb-5"},oe={class:"grid grid-cols-1 gap-2 md:grid-cols-2 mb-5"},$e={__name:"Validate",props:{name:"Validate",title:{type:String,required:!0},routeName:{type:String,required:!0},paymentVoucher:{type:Object,required:!0},filePath:{type:[String,null],required:!0},constanciaPath:{type:[String,null],required:!1},paymentVoucherStatuses:{type:Object,required:!0}},setup(t){const f=t,p=R("validate"),m=D({comments:f.paymentVoucher.comments,payment_voucher_status_id:f.paymentVoucher.payment_voucher_status_id}),S=()=>{m.put(route(`${f.routeName}handleValidate`,f.paymentVoucher.id))};return(y,n)=>(u(),d(w,null,[e(U,{title:t.title},null,8,["title"]),e(F,null,{default:l(()=>[e(j,{icon:s(q),title:t.title,main:""},{default:l(()=>[e(s(L),{href:y.route(`${t.routeName}index`)},{default:l(()=>n[3]||(n[3]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-x",viewBox:"0 0 16 16"},[o("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})],-1)])),_:1},8,["href"])]),_:1},8,["icon","title"]),y.$page.props.flash.success?(u(),$(C,{key:0,color:"success",icon:s(V),outline:!1},{default:l(()=>[N(b(y.$page.props.flash.success),1)]),_:1},8,["icon"])):g("",!0),y.$page.props.flash.error?(u(),$(C,{key:1,color:"danger",icon:s(V),outline:!1},{default:l(()=>[N(b(y.$page.props.flash.error),1)]),_:1},8,["icon"])):g("",!0),o("div",I,[e(_,{class:"col-span-3"},{default:l(()=>[o("div",z,[e(r,{label:"Referencia:"},{default:l(()=>[e(i,{value:t.paymentVoucher.reference},null,8,["value"])]),_:1}),e(r,{label:"Monto:"},{default:l(()=>[e(i,{value:t.paymentVoucher.amount},null,8,["value"])]),_:1})]),e(r,{label:"Archivo del Comprobante:"},{default:l(()=>[t.paymentVoucher.file?(u(),d("div",A,[o("div",M,[o("p",O," Nombre del archivo: "+b(t.paymentVoucher.file.original_name),1),o("p",G," Tamaño: "+b((t.paymentVoucher.file.size/1e3).toFixed(2))+" KB ",1)]),o("div",K,[t.filePath?(u(),d(w,{key:0},[t.paymentVoucher.file.mime_type==="application/pdf"?(u(),d("iframe",{key:0,class:"w-full h-96 border rounded-lg shadow-md",src:t.filePath},null,8,H)):(u(),d("img",{key:1,src:t.filePath,class:"max-w-full max-h-96 rounded-lg shadow-md object-contain",alt:"Vista previa de imagen"},null,8,J))],64)):g("",!0)])])):(u(),d("div",Q,n[4]||(n[4]=[o("p",{class:"font-semibold text-gray-500"},"No se ha subido ningún archivo.",-1)])))]),_:1}),o("div",W,[n[6]||(n[6]=o("h3",{class:"text-lg font-semibold text-gray-800 dark:text-gray-200"}," Datos de Facturación ",-1)),e(r,{label:"¿Requiere factura?"},{default:l(()=>[e(i,{value:t.paymentVoucher.requires_invoice?"Sí":"No"},null,8,["value"])]),_:1}),t.paymentVoucher.requires_invoice?(u(),d("div",X,[e(r,{label:"RFC:"},{default:l(()=>[e(i,{value:t.paymentVoucher.rfc},null,8,["value"])]),_:1}),e(r,{label:"Dirección Fiscal:"},{default:l(()=>[e(i,{value:t.paymentVoucher.direccion_fiscal},null,8,["value"])]),_:1}),e(r,{label:"Régimen Fiscal:"},{default:l(()=>[e(i,{value:t.paymentVoucher.regimen_fiscal},null,8,["value"])]),_:1}),e(r,{label:"Uso de CFDI:"},{default:l(()=>[e(i,{value:t.paymentVoucher.uso_cfdi},null,8,["value"])]),_:1}),e(r,{label:"Constancia de Situación Fiscal:"},{default:l(()=>[t.paymentVoucher.constancia?(u(),d("div",Y,[o("div",Z,[o("p",ee,b(t.paymentVoucher.constancia.original_name),1),o("a",{href:t.constanciaPath,target:"_blank",class:"text-blue-500 hover:underline mt-2 inline-block"}," Ver Constancia ",8,ae)])])):(u(),d("div",te,n[5]||(n[5]=[o("p",{class:"font-semibold text-gray-500"},"No se adjuntó constancia fiscal.",-1)])))]),_:1})])):g("",!0)])]),_:1}),o("div",le,[e(_,{class:"lg:sticky lg:top-14 lg:overflow-y-auto"},{default:l(()=>[e(s(E),{modelValue:p.value,"onUpdate:modelValue":n[2]||(n[2]=a=>p.value=a),variant:"underline",class:"p-5"},{default:l(()=>[e(s(v),{name:"validate",title:"Validar comprobante",disabled:!1},{default:l(()=>[e(r,{label:"Estatus:",required:"",error:s(m).errors.payment_voucher_status_id},{default:l(()=>[e(k,{modelValue:s(m).payment_voucher_status_id,"onUpdate:modelValue":n[0]||(n[0]=a=>s(m).payment_voucher_status_id=a),options:t.paymentVoucherStatuses},null,8,["modelValue","options"])]),_:1},8,["error"]),e(r,{label:"Comentarios:",error:s(m).errors.comments},{default:l(()=>[e(k,{modelValue:s(m).comments,"onUpdate:modelValue":n[1]||(n[1]=a=>s(m).comments=a),placeholder:"Sin comentarios...",type:"textarea",height:"h-20"},null,8,["modelValue"])]),_:1},8,["error"]),e(B,null,{default:l(()=>[e(x,{routeName:`${f.routeName}index`,icon:s(P),color:"white",label:"Cancelar"},null,8,["routeName","icon"]),e(x,{disabled:f.paymentVoucher.payment_voucher_status_id===3,onClick:S,icon:s(T),type:"submit",color:"success",label:"Guardar"},null,8,["disabled","icon"])]),_:1})]),_:1}),e(s(v),{name:"postulant",title:"Postulante",disabled:!1},{default:l(()=>[e(r,{label:"Nombre:"},{default:l(()=>{var a;return[e(i,{value:(a=t.paymentVoucher.article.postulant)==null?void 0:a.name},null,8,["value"])]}),_:1}),e(r,{label:"Email:"},{default:l(()=>{var a;return[e(i,{value:(a=t.paymentVoucher.article.postulant)==null?void 0:a.email},null,8,["value"])]}),_:1}),e(r,{label:"Institución:"},{default:l(()=>{var a,c;return[e(i,{value:(c=(a=t.paymentVoucher.article.postulant)==null?void 0:a.institution)==null?void 0:c.name},null,8,["value"])]}),_:1}),o("div",re,[e(r,{label:"Pais:"},{default:l(()=>{var a,c,h;return[e(i,{value:((h=(c=(a=t.paymentVoucher.article.postulant)==null?void 0:a.institution)==null?void 0:c.country)==null?void 0:h.name)??"Sin información"},null,8,["value"])]}),_:1}),e(r,{label:"Estado:"},{default:l(()=>{var a,c,h;return[e(i,{value:((h=(c=(a=t.paymentVoucher.article.postulant)==null?void 0:a.institution)==null?void 0:c.state)==null?void 0:h.name)??"Sin información"},null,8,["value"])]}),_:1})])]),_:1}),e(s(v),{name:"article",title:"Articulo",disabled:!1},{default:l(()=>[o("div",oe,[e(r,{label:"Titulo:"},{default:l(()=>{var a;return[e(i,{value:(a=t.paymentVoucher.article)==null?void 0:a.title},null,8,["value"])]}),_:1}),e(r,{label:"Tipo:"},{default:l(()=>{var a;return[e(i,{value:(a=t.paymentVoucher.article)==null?void 0:a.type},null,8,["value"])]}),_:1}),e(r,{label:"Editor:"},{default:l(()=>{var a;return[e(i,{value:(a=t.paymentVoucher.article.editor)==null?void 0:a.name},null,8,["value"])]}),_:1}),e(r,{label:"Estatus:"},{default:l(()=>{var a;return[e(i,{value:(a=t.paymentVoucher.article.article_status)==null?void 0:a.name},null,8,["value"])]}),_:1})]),e(r,{label:"Comprobante:"},{default:l(()=>{var a;return[e(i,{value:(a=t.paymentVoucher.payment_voucher_status)==null?void 0:a.name},null,8,["value"])]}),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1})],64))}};export{$e as default};
