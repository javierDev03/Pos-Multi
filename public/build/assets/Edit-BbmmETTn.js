import{T as S,o as i,a as m,b as e,d as a,F as y,u as t,i as q,e as s,f as P,g as C,h as w,t as A}from"./app-C8VQvZ0f.js";import{_ as R}from"./LayoutMain-ZFijm9Gj.js";import{_ as F}from"./HeadLogo-BA8DlMdf.js";import{_ as L}from"./SectionTitleLineWithButton-CORxjxXV.js";import{d as M,a as z,b as D,c as V,m as E}from"./colors-CEsUPgXD.js";import{S as G}from"./sweetalert2.esm.all-BccGxJ0c.js";/* empty css                        */import{_ as B}from"./CardBox-D-3MIlS4.js";import{_ as h}from"./FormField-bCdG-tNU.js";import{_ as $}from"./FormControl-haua1sQz.js";import{_ as O}from"./BaseButtons-BYm_JhLH.js";import{_ as p}from"./BaseButton-D751zZDp.js";import"./main-C82n4mBH.js";import"./BaseDivider-ugWBZYPJ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const H={class:"mt-8"},J={class:"mt-4"},K={class:"flex justify-between items-center mb-3"},Q={key:1,class:"text-xs text-gray-500 italic"},W={class:"flex justify-between items-center mb-2"},X={class:"text-sm font-medium"},Y={class:"mt-3"},Z={class:"flex justify-between items-center mb-2"},I={key:1,class:"text-xs text-gray-500 italic"},ee={class:"flex-1"},te={class:"w-24"},ge={__name:"Edit",props:{title:String,routeName:String,articleType:Object},setup(_){const b=_,l=S({...b.articleType}),k=()=>{l.put(route(`${b.routeName}update`,b.articleType.id))},T=()=>{G.fire({title:"¿Está seguro?",text:"Esta acción no se puede revertir",icon:"warning",showCancelButton:!0,cancelButtonText:"Cancelar",confirmButtonColor:"#E02424",confirmButtonText:"Sí, eliminar"}).then(r=>{r.isConfirmed&&l.delete(route(`${b.routeName}destroy`,b.articleType.id))})},j=r=>{l.rubrics[r].items.length<10&&l.rubrics[r].items.push({question:"",answers:[]})},N=(r,o)=>{l.rubrics[r].items[o].answers.length<5&&l.rubrics[r].items[o].answers.push({text:"",score:0})},U=(r,o)=>{l.rubrics[r].items.splice(o,1)},x=(r,o,c)=>{l.rubrics[r].items[o].answers.splice(c,1)};return(r,o)=>(i(),m(y,null,[e(F,{title:_.title},null,8,["title"]),e(R,null,{default:a(()=>[e(L,{icon:t(M),title:_.title,main:""},{default:a(()=>[e(t(q),{href:r.route(`${_.routeName}index`)},{default:a(()=>o[1]||(o[1]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-x",viewBox:"0 0 16 16"},[s("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})],-1)])),_:1},8,["href"])]),_:1},8,["icon","title"]),e(B,{isForm:"",onSubmit:P(k,["prevent"])},{footer:a(()=>[e(O,null,{default:a(()=>[e(p,{href:r.route(`${_.routeName}index`),icon:t(z),color:"white",label:"Cancelar"},null,8,["href","icon"]),e(p,{onClick:k,icon:t(D),type:"submit",color:"success",label:"Guardar",disabled:t(l).processing},null,8,["icon","disabled"]),e(p,{color:"danger",icon:t(V),onClick:T,label:"Eliminar"},null,8,["icon"])]),_:1})]),default:a(()=>[e(h,{label:"Nombre del Tipo de Artículo:",required:!0,help:"Nombre del tipo",error:t(l).errors.name},{default:a(()=>[e($,{modelValue:t(l).name,"onUpdate:modelValue":o[0]||(o[0]=c=>t(l).name=c),placeholder:"Ej: Artículo Científico, Ensayo, etc."},null,8,["modelValue"])]),_:1},8,["error"]),s("div",H,[(i(!0),m(y,null,C(t(l).rubrics,(c,n)=>(i(),m("div",{key:n,class:"mb-6"},[e(B,{class:"bg-gray-50"},{default:a(()=>[o[4]||(o[4]=s("h4",{class:"text-md font-medium mb-4"},"Rúbrica",-1)),e(h,{label:`Título de la Rúbrica ${n+1}:`,required:!0,error:t(l).errors[`rubrics.${n}.title`]},{default:a(()=>[e($,{modelValue:c.title,"onUpdate:modelValue":f=>c.title=f,placeholder:"Ej: Criterios de Evaluación General"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label","error"]),s("div",J,[s("div",K,[o[2]||(o[2]=s("h5",{class:"text-sm font-medium"},"Preguntas/Criterios",-1)),s("div",null,[c.items.length<10?(i(),w(p,{key:0,onClick:f=>j(n),icon:t(E),color:"success",label:"Agregar Pregunta",small:"",outline:""},null,8,["onClick","icon"])):(i(),m("p",Q,"Máximo 10 preguntas alcanzado"))])]),(i(!0),m(y,null,C(c.items,(f,u)=>(i(),m("div",{key:u,class:"mb-4 p-4 border border-gray-200 rounded"},[s("div",W,[s("h6",X,"Pregunta "+A(u+1),1),e(p,{onClick:d=>U(n,u),icon:t(V),color:"danger",small:"",outline:""},null,8,["onClick","icon"])]),e(h,{label:`Pregunta ${u+1}:`,required:!0,error:t(l).errors[`rubrics.${n}.items.${u}.question`]},{default:a(()=>[e($,{modelValue:f.question,"onUpdate:modelValue":d=>f.question=d,placeholder:"Ej: ¿El artículo presenta una metodología clara?"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label","error"]),s("div",Y,[s("div",Z,[o[3]||(o[3]=s("span",{class:"text-xs font-medium"},"Opciones de Respuesta",-1)),s("div",null,[f.answers.length<5?(i(),w(p,{key:0,onClick:d=>N(n,u),icon:t(E),color:"info",label:"Agregar Respuesta",small:"",outline:""},null,8,["onClick","icon"])):(i(),m("p",I,"Máximo 4 respuestas alcanzado "))])]),(i(!0),m(y,null,C(f.answers,(d,g)=>(i(),m("div",{key:g,class:"flex gap-2 mb-2 items-end"},[s("div",ee,[e(h,{label:`Respuesta ${g+1}:`,error:t(l).errors[`rubrics.${n}.items.${u}.answers.${g}.text`]},{default:a(()=>[e($,{modelValue:d.text,"onUpdate:modelValue":v=>d.text=v,placeholder:"Ej: Excelente, Bueno, Regular, Deficiente"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label","error"])]),s("div",te,[e(h,{label:"Puntaje:",error:t(l).errors[`rubrics.${n}.items.${u}.answers.${g}.score`]},{default:a(()=>[e($,{modelValue:d.score,"onUpdate:modelValue":v=>d.score=v,type:"number",step:"0.1",placeholder:"0.0"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),e(p,{onClick:v=>x(n,u,g),icon:t(V),color:"danger",small:"",outline:""},null,8,["onClick","icon"])]))),128))])]))),128))])]),_:2},1024)]))),128))])]),_:1})]),_:1})],64))}};export{ge as default};
