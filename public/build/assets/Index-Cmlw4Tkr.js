import{r as N,m as q,p as A,o,a as f,b as i,d as p,F as C,u as a,h as s,l as $,t as n,j as d,e,n as I,v as T,f as L,g as M,q as j,s as b}from"./app-C8VQvZ0f.js";import{_ as F}from"./CardBox-D-3MIlS4.js";import{_ as D}from"./LayoutMain-ZFijm9Gj.js";import{_ as P,u as k}from"./SectionTitleLineWithButton-CORxjxXV.js";import{aa as U,e as S,g as O,h as R,a8 as B,ab as Y,Y as G}from"./colors-CEsUPgXD.js";import{_ as z}from"./NotificationBar-BzVJ0lcM.js";import{_ as u}from"./BaseButton-D751zZDp.js";import{_ as H}from"./BaseButtons-BYm_JhLH.js";import{C as J}from"./CardBoxComponentEmpty-DJHEVF5S.js";import{l as K,P as Q}from"./Pagination-rNIBrX6v.js";import{L as W}from"./index-DM3TS9yR.js";import{_ as X}from"./HeadLogo-BA8DlMdf.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./main-C82n4mBH.js";import"./BaseDivider-ugWBZYPJ.js";import"./BaseLevel-vlIqV0r8.js";const Z={class:"flex flex-col md:flex-row justify-between"},ee={class:"flex w-full md:w-1/2 mr-1 my-4"},te={"data-label":"Identificador"},ae={"data-label":"Titulo"},re={"data-label":"Editor"},oe={"data-label":"Estatus del Artículo"},le={"data-label":"Comprobante"},ie={key:1,class:"border border-slate-400 dark:bg-slate-800 dark:text-slate-200 bg-slate-200 text-slate-700 rounded-xl px-4 dark:opacity-95 text-center w-max"},se={"data-label":"Acciones"},ne={class:"vl-parent"},Ce={__name:"Index",props:{name:"Index",title:{type:String,required:!0},articles:{type:Object,default:()=>({}),required:!0},routeName:{type:String,required:!0},search:{type:String,required:!0},direction:{type:String,required:!0}},setup(r){const m=r,g=N(m.search),h=N(!1),y=q({filters:{search:g,order:"created_at",direction:m.direction}}),v=()=>{b.get(route(`${m.routeName}index`,y.filters,{replace:!0}))},E=()=>{h.value=!0,b.get(route(`${m.routeName}index`))};return A("filterBy",(c,l)=>{y.filters.order=c,y.filters.direction=l,h.value=!0,b.get(route(`${m.routeName}index`,y.filters))}),(c,l)=>(o(),f(C,null,[i(X,{title:r.title},null,8,["title"]),i(D,null,{default:p(()=>[i(P,{icon:a(U),title:r.title,main:""},null,8,["icon","title"]),c.$page.props.flash.success?(o(),s(z,{key:0,color:"success",icon:a(S),outline:!1},{default:p(()=>[$(n(c.$page.props.flash.success),1)]),_:1},8,["icon"])):d("",!0),c.$page.props.flash.error?(o(),s(z,{key:1,color:"danger",icon:a(S),outline:!1},{default:p(()=>[$(n(c.$page.props.flash.error),1)]),_:1},8,["icon"])):d("",!0),e("form",{onSubmit:L(v,["prevent"]),class:"w-full mb-5"},[e("div",Z,[e("div",ee,[I(e("input",{type:"search",id:"search-dropdown",class:"block pr-10 md:h-11 w-full z-20 text-sm text-gray-900 bg-gray-50 rounded-l-lg md:border-l-gray-300 border-l-gray-300 border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-l-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:border-blue-500",placeholder:"Ingresa un parametro de busqueda","onUpdate:modelValue":l[0]||(l[0]=t=>g.value=t)},null,512),[[T,g.value]]),i(u,{class:"relative z-30 right-0 h-11 rounded-none",onClick:v,icon:a(O),color:"info",title:"Buscar"},null,8,["icon"]),i(u,{class:"relative right-0 h-11 rounded-l-none rounded-r-lg",onClick:E,icon:a(R),color:"lightDark",title:"Limpiar filtro"},null,8,["icon"])])])],32),r.articles.data.length>0?(o(),s(F,{key:2},{default:p(()=>[e("table",null,[l[3]||(l[3]=e("thead",null,[e("tr",null,[e("th"),e("th",null,"Identificador"),e("th",null,"Titulo"),e("th",null,"Editor"),e("th",null,"Estatus del Artículo"),e("th",null,"Comprobante"),e("th",{class:"relative inline-block text-left"},[e("span",{class:"inline-flex w-full justify-center gap-x-1.5 rounded-md bg-white dark:bg-gray-700 px-3 py-2 text-sm font-bold text-gray-900 dark:text-white ring-inset ring-gray-300 hover:bg-gray-100"}," Acciones ")])])],-1)),e("tbody",null,[(o(!0),f(C,null,M(r.articles.data,t=>{var x,_,w,V;return o(),f("tr",{key:t.id},[l[2]||(l[2]=e("td",{class:"align-items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-book-half",viewBox:"0 0 16 16"},[e("path",{d:"M8.5 2.687c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492V2.687zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783z"})])],-1)),e("td",te,n(t.article_folio),1),e("td",ae,n(a(K)(t.title,50)),1),e("td",re,n(t.editor),1),e("td",oe,n(t.status.name),1),e("td",le,[t.paymentVoucher?(o(),f("span",{key:0,class:j((_=(x=t.paymentVoucher)==null?void 0:x.payment_voucher_status)==null?void 0:_.class)},n((V=(w=t.paymentVoucher)==null?void 0:w.payment_voucher_status)==null?void 0:V.name),3)):(o(),f("span",ie," Pendiente de enviar "))]),e("td",se,[i(H,null,{default:p(()=>[!t.paymentVoucher&&a(k)("paymentVoucher.store")?(o(),s(u,{key:0,color:"success",iconSize:"20",icon:a(B),small:"",routeName:`${r.routeName}create`,parameter:t.id,title:"Cargar comprobante"},null,8,["icon","routeName","parameter"])):d("",!0),t.paymentVoucher&&a(k)("paymentVoucher.validate")?(o(),s(u,{key:1,color:"success",iconSize:"20",icon:a(Y),small:"",routeName:`${r.routeName}showValidate`,parameter:t.paymentVoucher.id,title:"Validar comprobante"},null,8,["icon","routeName","parameter"])):d("",!0),t.paymentVoucher&&t.paymentVoucher.payment_voucher_status_id===2&&a(k)("paymentVoucher.update")?(o(),s(u,{key:2,color:"warning",iconSize:"20",icon:a(B),small:"",routeName:`${r.routeName}edit`,parameter:t.paymentVoucher.id,title:"Editar comprobante"},null,8,["icon","routeName","parameter"])):d("",!0),t.paymentVoucher?(o(),s(u,{key:3,color:"info",iconSize:"20",icon:a(G),small:"",routeName:`${r.routeName}show`,parameter:t.paymentVoucher.id,title:"Ver comprobante"},null,8,["icon","routeName","parameter"])):d("",!0)]),_:2},1024)])])}),128))])])]),_:1})):(o(),s(J,{key:3})),i(Q,{links:r.articles.links,total:r.articles.total,to:r.articles.to,from:r.articles.from},null,8,["links","total","to","from"]),e("div",ne,[i(a(W),{active:h.value,"onUpdate:active":l[1]||(l[1]=t=>h.value=t),"can-cancel":!1,"is-full-page":!0},null,8,["active"])])]),_:1})],64))}};export{Ce as default};
