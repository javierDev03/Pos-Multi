import{_ as b}from"./HeadLogo-BA8DlMdf.js";import{_ as k}from"./LayoutWelcome-BLcHhp6b.js";import{Q as w,c as n,z as S,s as j,o as l,a as r,b as h,d as N,F as v,e as t,t as d,g as p,q as u,j as m,C as z}from"./app-C8VQvZ0f.js";import{S as B}from"./sweetalert2.esm.all-BccGxJ0c.js";import"./colors-CEsUPgXD.js";import"./Navbar-vkno-8Oq.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./BaseButton-D751zZDp.js";import"./flowbite-vue-WjY8nwBi.js";const I={key:0,class:"flex justify-center"},C={class:"w-full max-w-6xl flex flex-col h-[calc(100vh-150px)] justify-center md:justify-start px-4 mt-4"},D={class:"flex flex-col md:flex-row md:items-center md:justify-between mb-8"},T={class:"text-3xl font-bold text-gray-900 dark:text-white"},$={class:"mt-4 md:mt-0"},A={class:"inline-flex items-center px-4 py-2 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-full font-medium"},F={class:"md:hidden"},L={class:"space-y-6"},M={class:"flex flex-col items-center mr-6"},V={key:0},E={key:1},q={class:"flex-1"},P={class:"text-gray-600 dark:text-gray-400 mt-1"},Q={key:0,class:"mt-2 text-sm text-gray-500 dark:text-gray-400"},X={class:"hidden md:block"},G={class:"relative py-8"},H={class:"relative flex justify-between"},J={key:0,class:"text-sm"},K={key:1,class:"text-sm"},O={class:"text-sm text-gray-600 dark:text-gray-400 leading-relaxed"},R={key:0,class:"mt-3 text-xs text-blue-600 dark:text-blue-400 font-medium"},it={__name:"Show",setup(U){const _=w(),e=n(()=>_.props.article),g=n(()=>_.props.authors||[]),o=n(()=>_.props.articleStatuses||[]),c=_.props.alert;S(()=>{c&&B.fire({title:c.title,text:c.text,icon:c.icon,confirmButtonText:"Entendido"}).then(()=>{j.visit(c.redirectTo)})});function f(a){return new Date(a).toLocaleDateString("es-MX",{year:"numeric",month:"long",day:"numeric"})}const y=n(()=>{const a=o.value.find(i=>i.id===e.value.article_status_id);return a?a.name:"Desconocido"});return n(()=>{const a=o.value.findIndex(i=>i.id===e.value.article_status_id);return a<o.value.length-1?o.value[a+1].name:"Proceso completado"}),n(()=>{const a=o.value.findIndex(i=>i.id===e.value.article_status_id);return Math.round((a+1)/o.value.length*100)}),n(()=>e.value.title||"Título desconocido"),n(()=>{if(!g.value.length)return"No asignado";const a=g.value.find(i=>i.is_corresponding===1);return a?a.name:"No asignado"}),(a,i)=>(l(),r(v,null,[h(b,{title:e.value?`Artículo: ${e.value.article_folio}`:"Buscador de Artículos"},null,8,["title"]),h(k,null,{default:N(()=>[e.value?(l(),r("div",I,[t("div",C,[t("div",D,[t("div",null,[t("h2",T,d(e.value.article_folio),1),i[0]||(i[0]=t("p",{class:"text-gray-500 dark:text-gray-400 mt-1 text-lg"},"Seguimiento del proceso",-1))]),t("div",$,[t("span",A,d(y.value),1)])]),t("div",F,[t("div",L,[(l(!0),r(v,null,p(o.value,(s,x)=>(l(),r("div",{key:s.id,class:"flex items-center"},[t("div",M,[t("div",{class:u(["w-10 h-10 flex items-center justify-center rounded-full font-semibold text-sm",e.value.article_status_id>=s.id?"bg-green-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-500"])},[e.value.article_status_id>s.id?(l(),r("span",V,"✓")):(l(),r("span",E,d(x+1),1))],2),x<o.value.length-1?(l(),r("div",{key:0,class:u(["w-0.5 h-8 mt-2",e.value.article_status_id>s.id?"bg-green-300":"bg-gray-200 dark:bg-gray-700"])},null,2)):m("",!0)]),t("div",q,[t("h3",{class:u(["font-semibold text-gray-900 dark:text-white text-lg",e.value.article_status_id===s.id?"text-blue-600 dark:text-blue-400":""])},d(s.name),3),t("p",P,d(s.description),1),e.value.article_status_id===s.id?(l(),r("div",Q," Actualizado: "+d(f(e.value.updated_at)),1)):m("",!0)])]))),128))])]),t("div",X,[t("div",G,[i[1]||(i[1]=t("div",{class:"absolute top-12 left-0 right-0 h-0.5 bg-gray-200 dark:bg-gray-700"},null,-1)),t("div",{class:"absolute top-12 left-0 h-0.5 bg-green-500 transition-all duration-500",style:z(`width: ${o.value.findIndex(s=>s.id===e.value.article_status_id)/(o.value.length-1)*100}%`)},null,4),t("div",H,[(l(!0),r(v,null,p(o.value,(s,x)=>(l(),r("div",{key:s.id,class:"flex flex-col items-center text-center",style:{"max-width":"180px"}},[t("div",{class:u(["w-8 h-8 rounded-full mb-4 flex items-center justify-center font-semibold relative z-10",e.value.article_status_id>=s.id?"bg-green-500 text-white shadow-lg":"bg-white dark:bg-gray-800 border-2 border-gray-300 dark:border-gray-600 text-gray-500"])},[e.value.article_status_id>s.id?(l(),r("span",J,"✓")):(l(),r("span",K,d(x+1),1))],2),t("div",null,[t("h3",{class:u(["font-semibold text-gray-900 dark:text-white mb-2",e.value.article_status_id===s.id?"text-blue-600 dark:text-blue-400":""])},d(s.name),3),t("p",O,d(s.description),1),e.value.article_status_id===s.id?(l(),r("div",R,d(f(e.value.updated_at)),1)):m("",!0)])]))),128))])])])])])):m("",!0)]),_:1})],64))}};export{it as default};
