import{_ as k}from"./HeadLogo-BA8DlMdf.js";import{b as _,a as v,_ as w}from"./SectionTitleLineWithButton-CORxjxXV.js";import{_ as B}from"./jspdf.es.min-C7hkvkyA.js";import{a7 as D}from"./colors-CEsUPgXD.js";import{C as x,r as A}from"./chart-CH8-U_Kh.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{c as F,r as $,z as P,J as j,o as n,a as i,b as l,d as c,F as u,u as z,e as t,t as s,g as y,l as R}from"./app-C8VQvZ0f.js";import"./main-C82n4mBH.js";import"./BaseDivider-ugWBZYPJ.js";const V={id:"report-content, charts-pdf-content",class:"bg-white dark:bg-gray-900 rounded-lg shadow p-3"},I={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-2 mb-6"},N={class:"bg-blue-50 dark:bg-blue-900/30 p-3 rounded-lg"},O={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},E={class:"bg-green-50 dark:bg-green-900/30 p-3 rounded-lg"},L={class:"text-lg font-semibold text-green-600 dark:text-green-400"},M={class:"bg-purple-50 dark:bg-purple-900/30 p-3 rounded-lg"},S={class:"text-2xl font-bold text-purple-600 dark:text-purple-400"},T={class:"bg-gray-100 dark:bg-gray-800 p-3 rounded-lg"},U={class:"rounded-md bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-md"},q=["onClick"],J={class:"flex items-center"},W={class:"overflow-x-auto"},Z={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},G={class:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700"},H={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},K={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300"},Q={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300"},X={__name:"ArticlesByDate",props:{articlesByDate:{type:Array,required:!0,default:()=>[]},dateRange:{type:Object,default:()=>({start:null,end:null})}},setup(o){x.register(...A);const p=o,m=F(()=>({labels:p.articlesByDate.map(a=>a.date),datasets:[{label:"Artículos postulados",data:p.articlesByDate.map(a=>a.total),backgroundColor:"rgba(54, 162, 235, 0.5)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1,tension:.1,fill:!0}]})),b=$({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Artículos por Fecha de Postulación",font:{size:16}},tooltip:{callbacks:{label:function(a){return`${a.dataset.label}: ${a.raw}`}}}},scales:{x:{title:{display:!0,text:"Fecha de Postulación"},grid:{display:!1}},y:{title:{display:!0,text:"Cantidad de Artículos"},beginAtZero:!0,ticks:{stepSize:1,precision:0}}}});let g=null;return P(()=>{const a=document.getElementById("dateChart");a&&(g=new x(a,{type:"line",data:m.value,options:b.value}))}),j(()=>{g&&g.destroy()}),(a,e)=>(n(),i(u,null,[l(k,{title:"Artículos por Fecha de Postulación"}),l(_,null,{default:c(()=>[l(v,null,{default:c(()=>[l(w,{icon:z(D),title:"Artículos por Fecha de Postulación",main:""},null,8,["icon"]),t("div",V,[t("div",I,[t("div",N,[e[0]||(e[0]=t("h3",{class:"text-sm font-medium text-blue-800 dark:text-blue-300"},"Total Artículos",-1)),t("p",O,s(o.articlesByDate.reduce((r,d)=>r+d.total,0)),1)]),t("div",E,[e[1]||(e[1]=t("h3",{class:"text-sm font-medium text-green-800 dark:text-green-300"},"Período Analizado",-1)),t("p",L,s(o.dateRange.start)+" - "+s(o.dateRange.end),1)]),t("div",M,[e[2]||(e[2]=t("h3",{class:"text-sm font-medium text-purple-800 dark:text-purple-300"},"Días con Datos",-1)),t("p",S,s(o.articlesByDate.length),1)]),t("div",T,[l(B,null,{trigger:c(()=>e[3]||(e[3]=[t("button",{class:"bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600 text-sm text-gray-800 dark:text-gray-100 px-3 py-2 rounded w-full"}," Opciones ",-1)])),content:c(()=>[t("ul",U,[(n(),i(u,null,y(["png","jpg","pdf"],r=>t("li",{key:r},[t("button",{onClick:d=>a.downloadChartsAs(r),class:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-700"},[t("span",J,[e[4]||(e[4]=t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1)),R(" Descargar "+s(r.toUpperCase()),1)])],8,q)])),64))])]),_:1})])]),e[7]||(e[7]=t("div",{class:"chart-container mb-8",style:{height:"400px"}},[t("canvas",{id:"dateChart"})],-1)),t("div",W,[e[6]||(e[6]=t("h3",{class:"text-lg font-semibold mb-3 text-gray-900 dark:text-gray-100"},"Detalle por Fecha",-1)),t("table",Z,[e[5]||(e[5]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Fecha"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Artículos"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Porcentaje")])],-1)),t("tbody",G,[(n(!0),i(u,null,y(o.articlesByDate,(r,d)=>(n(),i("tr",{key:d},[t("td",H,s(r.date),1),t("td",K,s(r.total),1),t("td",Q,s((r.total/o.articlesByDate.reduce((f,h)=>f+h.total,0)*100).toFixed(2))+"% ",1)]))),128))])])])])]),_:1})]),_:1})],64))}},nt=C(X,[["__scopeId","data-v-1051c9fb"]]);export{nt as default};
