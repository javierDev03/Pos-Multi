import{x as f,r as v,w as M,z as T,o as n,a as u,e as s,b as i,d as g,u as a,l as y,F as b,g as _,n as F,v as L,f as z,h as O,q as U,t as h}from"./app-C8VQvZ0f.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{ad as E,ae as S}from"./colors-CEsUPgXD.js";import{_ as w}from"./FormControl-haua1sQz.js";import{_ as C}from"./BaseButton-D751zZDp.js";import"./index-DM3TS9yR.js";import{_ as H}from"./BaseButtons-BYm_JhLH.js";import{_ as V}from"./FormField-bCdG-tNU.js";import{C as R}from"./CardBoxComponentEmpty-DJHEVF5S.js";import"./main-C82n4mBH.js";const G={class:"md:flex md:space-x-4 mb-5"},I={class:"md:w-1/2 max-lg:mb-5"},K={class:"md:w-1/2"},Z={class:"md:flex md:space-x-4"},J={class:"md:w-5/12 p-2 mb-5"},Q={class:"mt-4"},W={class:"flex flex-col space-y-2 overflow-y-auto h-96"},X=["onClick","textContent"],Y={class:"md:w-7/12 p-2"},ee={class:"mt-2"},se={class:"mb-5"},re={class:"relative"},oe={class:"mt-5"},te={key:0},le={class:"border rounded overflow-y-auto relative h-96"},ae={class:"ps-4"},ne={class:"p-2 inline-flex items-center cursor-pointer"},ie=["value","id","checked","onChange"],de={class:"ms-3 text-sm font-medium text-gray-900 dark:text-gray-300"},ue={__name:"DataForm",setup(ce){const c=f("permissions",{}),B=f("modules",{}),o=f("form"),N=f("disabled",!0),t=v("cat"),d=v(null),m=v([]),p=()=>{d.value?m.value[t.value]=c[t.value].filter(l=>l.name.toLowerCase().includes(d.value.toLowerCase())||l.description.toLowerCase().includes(d.value.toLowerCase())):m.value[t.value]=c[t.value]},$=l=>o.permissions.includes(l.id),j=l=>{const e=o.permissions.indexOf(l.id);e===-1?o.permissions.push(l.id):o.permissions.splice(e,1)};M(()=>t.value,()=>{d.value=null,p()});const A=()=>{c[t.value].map(e=>e.id).forEach(e=>{o.permissions.includes(e)||o.permissions.push(e)})},D=()=>{const l=c[t.value].map(e=>e.id);o.permissions=o.permissions.filter(e=>!l.includes(e))};return T(()=>{p()}),(l,e)=>{var k,x;return n(),u(b,null,[s("div",G,[s("div",I,[i(V,{label:"Nombre del rol:",required:!0,error:a(o).errors.name},{default:g(()=>[i(w,{disabled:a(N),modelValue:a(o).name,"onUpdate:modelValue":e[0]||(e[0]=r=>a(o).name=r),placeholder:"Nombre de rol"},null,8,["disabled","modelValue"])]),_:1},8,["error"])]),s("div",K,[i(V,{label:"Descripción:",required:!0,error:a(o).errors.description},{default:g(()=>[i(w,{modelValue:a(o).description,"onUpdate:modelValue":e[1]||(e[1]=r=>a(o).description=r),placeholder:"Descripción"},null,8,["modelValue"])]),_:1},8,["error"])])]),s("div",Z,[s("div",J,[e[5]||(e[5]=s("div",{class:"justify-center flex"},[s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"})]),y(" Módulos disponibles ")],-1)),s("div",Q,[s("div",W,[(n(!0),u(b,null,_(a(B),r=>(n(),u("a",{key:r.key,onClick:P=>t.value=r.key,class:U(["text-gray-900 bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700 cursor-pointer",{active:r.key===t.value}]),textContent:h(r.name)},null,10,X))),128))])])]),s("div",Y,[e[8]||(e[8]=s("div",{class:"justify-center flex"},[s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"})]),y(" Permisos disponibles ")],-1)),s("div",ee,[s("div",se,[i(H,{type:"justify-start","no-wrap":""},{default:g(()=>[i(C,{color:"contrast",icon:a(E),small:"",label:"TODOS",onClick:e[2]||(e[2]=r=>A())},null,8,["icon"]),i(C,{color:"contrast",icon:a(S),small:"",label:"NINGUNO",onClick:e[3]||(e[3]=r=>D())},null,8,["icon"])]),_:1})]),s("div",re,[e[6]||(e[6]=s("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[s("svg",{class:"w-4 h-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},[s("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})])],-1)),F(s("input",{type:"search",class:"block w-full p-4 pl-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",id:"search-module","onUpdate:modelValue":e[4]||(e[4]=r=>d.value=r),onKeyup:p,placeholder:"Buscar permisos"},null,544),[[L,d.value]]),s("button",{type:"submit",class:"hidden md:inline-block text-white absolute right-2.5 bottom-2.5 bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",onClick:z(p,["prevent"])}," Buscar ")])]),s("div",oe,[((x=(k=m.value)==null?void 0:k[t.value])==null?void 0:x.length)>0?(n(),u("div",te,[s("div",le,[s("ul",ae,[(n(!0),u(b,null,_(m.value[t.value],r=>(n(),u("li",{key:r.id},[s("label",ne,[s("input",{type:"checkbox",class:"sr-only peer",value:{id:r.id},id:"permission_"+r.id,checked:$(r),onChange:P=>j(r)},null,40,ie),e[7]||(e[7]=s("div",{class:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1)),s("span",de,h(r.name)+" - "+h(r.description),1)])]))),128))])])])):(n(),O(R,{key:1,class:"h-96"}))])])])],64)}}},_e=q(ue,[["__scopeId","data-v-b6093aa9"]]);export{_e as default};
