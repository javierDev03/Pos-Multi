import{r as k,m as S,p as q,o as i,a as b,b as t,d,F as x,u as l,h as m,l as w,t as f,j as N,e,n as D,v as O,f as V,g as L,s as h}from"./app-DdNFHAqW.js";import{_ as M}from"./CardBox-CmyBJRt6.js";import{_ as j}from"./LayoutMain-BsSCxfDS.js";import{_ as z}from"./SectionTitleLineWithButton-PkwI0osh.js";import{f as F,e as $,g as I,h as P,m as Z,d as E}from"./colors-inGVzw7t.js";import{_}from"./NotificationBar-CTYPL220.js";import{_ as g}from"./BaseButton-sgO_vKHC.js";import{_ as T}from"./BaseButtons-D7HU0kj1.js";import{C as U}from"./CardBoxComponentEmpty-CtyqEEwp.js";import{_ as B,P as G}from"./DropdownTable-CJPim1IW.js";import{L as H}from"./index-B423c0q9.js";import"./index-By6FO3Ij.js";import"./_baseGetTag-Ddn2H9e8.js";import{_ as J}from"./HeadLogo-B8dNSx1m.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./main-B-O7UoXT.js";import"./BaseDivider-CbK6y6pu.js";import"./BaseLevel-CxVnqDyr.js";const K={class:"flex flex-col md:flex-row justify-between"},Q={class:"flex w-full md:w-1/2 mr-1 my-4"},R={"data-label":"Nombre"},W={"data-label":"Descripción"},X={"data-label":"Acciones"},Y={class:"ml-10"},ee={class:"vl-parent"},ve={__name:"Index",props:{name:"Index",title:{type:String,required:!0},records:{type:Object,default:()=>({}),required:!0},routeName:{type:String,required:!0},search:{type:String,required:!0},direction:{type:String,required:!0}},setup(a){const s=a,p=k(s.search),c=k(!1),u=S({filters:{search:p,order:s.records.order??"created_at",direction:s.direction}}),y=()=>{h.get(route(`${s.routeName}index`,u.filters,{replace:!0}))},C=()=>{c.value=!0,h.get(route(`${s.routeName}index`))},A=(n,r)=>{u.filters.order=n,u.filters.direction=r,c.value=!0,h.get(route(`${s.routeName}index`,u.filters))},v=[{label:"Nombre",key:"name",menu:[{title:"Ordenar desde A - Z ",direction:"asc"},{title:"Ordenar desde Z - A ",direction:"desc"}]},{label:"Descripción",key:"description",menu:[{title:"Ordenar desde A - Z ",direction:"asc"},{title:"Ordenar desde Z - A ",direction:"desc"}]}];return q("filterBy",A),(n,r)=>(i(),b(x,null,[t(J,{title:a.title},null,8,["title"]),t(j,null,{default:d(()=>[t(z,{icon:l(F),title:a.title,main:""},null,8,["icon","title"]),n.$page.props.flash.success?(i(),m(_,{key:0,color:"success",icon:l($),outline:!1},{default:d(()=>[w(f(n.$page.props.flash.success),1)]),_:1},8,["icon"])):N("",!0),n.$page.props.flash.error?(i(),m(_,{key:1,color:"danger",icon:l($),outline:!1},{default:d(()=>[w(f(n.$page.props.flash.error),1)]),_:1},8,["icon"])):N("",!0),e("form",{onSubmit:V(y,["prevent"]),class:"w-full mb-5"},[e("div",K,[e("div",Q,[D(e("input",{type:"search",id:"search-dropdown",class:"block pr-10 md:h-11 w-full z-20 text-sm text-gray-900 bg-gray-50 rounded-l-lg md:border-l-gray-300 border-l-gray-300 border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-l-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:border-blue-500",placeholder:"Ingresa un parametro de busqueda","onUpdate:modelValue":r[0]||(r[0]=o=>p.value=o)},null,512),[[O,p.value]]),t(g,{class:"relative z-30 right-0 h-11 rounded-none",onClick:y,icon:l(I),color:"info",title:"Buscar"},null,8,["icon"]),t(g,{class:"relative right-0 h-11 rounded-l-none rounded-r-lg",onClick:C,icon:l(P),color:"lightDark",title:"Limpiar filtro"},null,8,["icon"])]),t(T,null,{default:d(()=>[t(g,{routeName:`${a.routeName}create`,color:"info",icon:l(Z),label:"Agregar rol",class:"w-full"},null,8,["routeName","icon"])]),_:1})])],32),a.records.data.length>0?(i(),m(M,{key:2},{default:d(()=>[e("table",null,[e("thead",null,[e("tr",null,[r[2]||(r[2]=e("th",null,null,-1)),e("th",null,[t(B,{title:"Nombre",options:v})]),e("th",null,[t(B,{title:"Descripción",options:v})]),r[3]||(r[3]=e("th",{class:"relative inline-block text-left"},[e("span",{class:"inline-flex w-full justify-center gap-x-1.5 rounded-md bg-white dark:bg-gray-700 px-3 py-2 text-md font-bold text-gray-900 dark:text-white ring-inset ring-gray-300 hover:bg-gray-100"}," Acciones ")],-1))])]),e("tbody",null,[(i(!0),b(x,null,L(a.records.data,o=>(i(),b("tr",{key:o.id},[r[4]||(r[4]=e("td",{class:"align-items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-book-half",viewBox:"0 0 16 16"},[e("path",{d:"M8.5 2.687c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492V2.687zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783z"})])],-1)),e("td",R,f(o.name),1),e("td",W,f(o.description),1),e("td",X,[e("div",Y,[t(g,{title:"Editar rol",color:"info",icon:l(E),small:"",routeName:`${a.routeName}edit`,parameter:o.id},null,8,["icon","routeName","parameter"])])])]))),128))])])]),_:1})):(i(),m(U,{key:3})),t(G,{links:a.records.links,total:a.records.total,to:a.records.to,from:a.records.from},null,8,["links","total","to","from"]),e("div",ee,[t(l(H),{active:c.value,"onUpdate:active":r[1]||(r[1]=o=>c.value=o),"can-cancel":!1,"is-full-page":!0},null,8,["active"])])]),_:1})],64))}};export{ve as default};
