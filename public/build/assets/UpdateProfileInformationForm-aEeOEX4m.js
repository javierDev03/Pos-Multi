import{x as b,T as V,c as y,o as p,a as f,e as t,b as s,u as e,d as i,M as C,f as U,N as k,j as w}from"./app-DdNFHAqW.js";import{c as E,r as N,q as j,J as I,b as S}from"./colors-inGVzw7t.js";import{_ as R}from"./InputError-B-EUtzjq.js";import{_ as d}from"./FormField-CILI8Nf7.js";import{_ as m}from"./FormControl-bDY0Yb_I.js";import{_}from"./BaseButton-sgO_vKHC.js";import"./sweetalert2.esm.all-BccGxJ0c.js";/* empty css                        */import"./main-B-O7UoXT.js";const $={class:"md:flex md:space-x-4 mb-5"},A={class:"md:w-1/4 max-lg:mb-5"},B=["src"],F={class:"mt-2 flex space-x-2"},G={class:"md:w-3/4"},P={class:"md:flex md:space-x-4"},T={class:"flex items-center gap-4"},L={key:0,class:"text-sm text-gray-600"},X={__name:"UpdateProfileInformationForm",setup(M){var u;const r=b("user"),c=r.roles.map(a=>a.name),o=V({_method:"patch",id:r.id,name:r.name,email:r.email,institution:((u=r.institution)==null?void 0:u.name)??"Sin registro",photo:null}),h=y(()=>o.photo!==null?URL.createObjectURL(o.photo):r.file?r.file.path:"img/user.jpg"),g=a=>{o.photo=a.target.files[0]},v=()=>{o.post(route("profile.update"),{onError:a=>{console.log("error: ",a)}})},x=()=>{o.delete(route("profile.destroyPhoto"),{onError:a=>{console.log("error: ",a)}})};return(a,l)=>(p(),f("section",null,[l[4]||(l[4]=t("header",null,[t("h2",{class:"text-lg font-medium text-gray-900 dark:text-slate-100"},"Información personal"),t("p",{class:"mt-1 text-sm text-gray-600 dark:text-slate-400"}," Actualice la información del perfil y la dirección de correo electrónico de su cuenta. ")],-1)),t("form",{onSubmit:l[3]||(l[3]=U((...n)=>a.saveUser&&a.saveUser(...n),["prevent"])),class:"mt-6 space-y-6"},[t("div",$,[t("div",A,[t("img",{id:"photo",src:h.value,class:"rounded w-full h-60 object-cover"},null,8,B),t("div",F,[s(m,{onInput:g,type:"file",height:"h-10.5"}),s(_,{class:"w-1/4",icon:e(E),color:"danger",onClick:x},null,8,["icon"])]),s(R,{message:e(o).errors.photo},null,8,["message"])]),t("div",G,[s(d,{label:"Nombre completo:",error:e(o).errors.name},{default:i(()=>[s(m,{icon:e(N),modelValue:e(o).name,"onUpdate:modelValue":l[0]||(l[0]=n=>e(o).name=n),placeholder:"Nombre completo",disabled:""},null,8,["icon","modelValue"])]),_:1},8,["error"]),s(d,{label:"Correo Electrónico:",error:e(o).errors.email},{default:i(()=>[s(m,{modelValue:e(o).email,"onUpdate:modelValue":l[1]||(l[1]=n=>e(o).email=n),icon:e(j),placeholder:"Correo Electrónico",disabled:""},null,8,["modelValue","icon"])]),_:1},8,["error"])])]),t("div",P,[s(d,{class:"w-full",label:"Rol en el sistema:"},{default:i(()=>[s(m,{disabled:"",modelValue:e(c),"onUpdate:modelValue":l[2]||(l[2]=n=>k(c)?c.value=n:null),icon:e(I)},null,8,["modelValue","icon"])]),_:1})]),t("div",T,[s(_,{title:"Guardar",onClick:v,icon:e(S),color:"success",label:"Guardar foto"},null,8,["icon"]),s(C,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:i(()=>[e(o).recentlySuccessful?(p(),f("p",L,"Guardado.")):w("",!0)]),_:1})])],32)]))}};export{X as default};
