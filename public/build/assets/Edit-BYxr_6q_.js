import{r as q,c as p,T as L,o as c,a as v,b as e,d as a,F as T,u as t,i as j,e as s,h as b,l as V,t as f,j as _,f as B}from"./app-C8VQvZ0f.js";import{_ as $}from"./CardBox-D-3MIlS4.js";import{_ as E}from"./LayoutMain-ZFijm9Gj.js";import{_ as I}from"./SectionTitleLineWithButton-CORxjxXV.js";import{a9 as U,e as w,a as M,b as P}from"./colors-CEsUPgXD.js";import{_ as x}from"./BaseButton-D751zZDp.js";import{_ as R}from"./BaseButtons-BYm_JhLH.js";import"./sweetalert2.esm.all-BccGxJ0c.js";/* empty css                        */import{_ as u}from"./FormField-bCdG-tNU.js";import{_ as h}from"./FormControl-haua1sQz.js";import{V as z,F as D}from"./flowbite-vue-WjY8nwBi.js";import{_ as N}from"./NotificationBar-BzVJ0lcM.js";import{_ as A}from"./HeadLogo-BA8DlMdf.js";import{_ as d}from"./LabelControl-m7hiFd44.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./main-C82n4mBH.js";import"./BaseDivider-ugWBZYPJ.js";import"./BaseLevel-vlIqV0r8.js";const O={class:"md:grid md:grid-cols-5 gap-4 md:space-y-0 space-y-5"},G={class:"grid grid-cols-1 gap-2 md:grid-cols-2 mb-5"},K={class:"bg-slate-100 border-4 border-dashed border-gray-400 flex flex-col items-center justify-center rounded-lg shadow-lg p-6 md:p-10 mb-4 dark:bg-gray-800 dark:border-gray-600"},X={class:"w-auto mb-6 text-sm md:text-base font-medium text-gray-700 dark:text-gray-300"},H={class:"flex justify-center space-x-2"},J={class:"font-semibold mt-4"},Q={class:"font-semibold"},W={class:"w-full flex justify-center mt-8 mb-4"},Y=["src"],Z={class:"col-span-2 h-full lg:relative"},ee={class:"grid grid-cols-1 gap-2 md:grid-cols-2 mb-5"},be={__name:"Edit",props:{name:"Edit",title:{type:String,required:!0},routeName:{type:String,required:!0},paymentVoucher:{type:Object,required:!0},filePath:{type:String,required:!0}},setup(n){const i=n,g=q("article"),k=p(()=>{var o,l;return((o=r.file)==null?void 0:o.name)??((l=i.paymentVoucher.file)==null?void 0:l.name)??"Sin archivo"}),F=p(()=>{var o,l;return((((o=r.file)==null?void 0:o.size)??((l=i.paymentVoucher.file)==null?void 0:l.size))/1e3).toFixed(2)+" KB"}),r=L({_method:"patch",id:i.paymentVoucher.id,reference:i.paymentVoucher.reference,amount:i.paymentVoucher.amount,payment_voucher_status_id:i.paymentVoucher.payment_voucher_status_id,user_id:i.paymentVoucher.user_id,file:null}),y=()=>{r.post(route(`${i.routeName}update`,i.paymentVoucher.id))},C=o=>{r.file=o.target.files[0]},S=p(()=>r.file?URL.createObjectURL(r.file):i.filePath);return(o,l)=>(c(),v(T,null,[e(A,{title:n.title},null,8,["title"]),e(E,null,{default:a(()=>[e(I,{icon:t(U),title:n.title,main:""},{default:a(()=>[e(t(j),{href:o.route(`${n.routeName}index`)},{default:a(()=>l[3]||(l[3]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-x",viewBox:"0 0 16 16"},[s("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})],-1)])),_:1},8,["href"])]),_:1},8,["icon","title"]),o.$page.props.flash.success?(c(),b(N,{key:0,color:"success",icon:t(w),outline:!1},{default:a(()=>[V(f(o.$page.props.flash.success),1)]),_:1},8,["icon"])):_("",!0),o.$page.props.flash.error?(c(),b(N,{key:1,color:"danger",icon:t(w),outline:!1},{default:a(()=>[V(f(o.$page.props.flash.error),1)]),_:1},8,["icon"])):_("",!0),s("div",O,[e($,{isForm:"",onSubmit:B(y,["prevent"]),class:"col-span-3"},{default:a(()=>[s("div",G,[e(u,{label:"Referencia:",required:"",help:"Ingresa los datos del comprobante",error:t(r).errors.reference},{default:a(()=>[e(h,{modelValue:t(r).reference,"onUpdate:modelValue":l[0]||(l[0]=m=>t(r).reference=m),placeholder:"Ingresa la referencia"},null,8,["modelValue"])]),_:1},8,["error"]),e(u,{label:"Monto:",required:"",error:t(r).errors.amount},{default:a(()=>[e(h,{modelValue:t(r).amount,"onUpdate:modelValue":l[1]||(l[1]=m=>t(r).amount=m),placeholder:"Ingresa el monto",type:"number"},null,8,["modelValue"])]),_:1},8,["error"])]),e(u,{label:"Cargar archivo PDF:",required:"",help:"Solo archivos PDF (MAX 100M)",error:t(r).errors.file},{default:a(()=>[s("div",K,[s("div",X,[s("div",H,[e(h,{onInput:C,height:"h-10.5",type:"file"})]),s("p",J,"Nombre del archivo: "+f(k.value),1),s("p",Q,"TamaÃ±o: "+f(F.value),1)]),s("div",W,[t(r).file||i.filePath?(c(),v("iframe",{key:0,class:"w-full h-96 border rounded-lg shadow-md",src:S.value},null,8,Y)):_("",!0)])])]),_:1},8,["error"]),e(R,null,{default:a(()=>[e(x,{routeName:`${i.routeName}index`,icon:t(M),color:"white",label:"Cancelar"},null,8,["routeName","icon"]),e(x,{onClick:y,icon:t(P),type:"submit",color:"success",label:"Guardar"},null,8,["icon"])]),_:1})]),_:1}),s("div",Z,[e($,{class:"lg:sticky lg:top-14 lg:overflow-y-auto"},{default:a(()=>[e(t(z),{modelValue:g.value,"onUpdate:modelValue":l[2]||(l[2]=m=>g.value=m),variant:"underline",class:"p-5"},{default:a(()=>[e(t(D),{name:"article",title:"Articulo",disabled:!1},{default:a(()=>[s("div",ee,[e(u,{label:"Titulo:"},{default:a(()=>[e(d,{value:n.paymentVoucher.article.title},null,8,["value"])]),_:1}),e(u,{label:"Tipo:"},{default:a(()=>[e(d,{value:n.paymentVoucher.article.type},null,8,["value"])]),_:1}),e(u,{label:"Editor:"},{default:a(()=>[e(d,{value:n.paymentVoucher.article.editor.name},null,8,["value"])]),_:1}),e(u,{label:"Estatus:"},{default:a(()=>[e(d,{value:n.paymentVoucher.article.article_status.name},null,8,["value"])]),_:1})]),e(u,{label:"Comprobante:"},{default:a(()=>[e(d,{value:n.paymentVoucher.payment_voucher_status.name},null,8,["value"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1})],64))}};export{be as default};
