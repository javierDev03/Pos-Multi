import{r as $,T as U,c,p as x,o as w,a as L,b as r,d as o,F as N,u as t,i as C,e as s,f as q,k as F}from"./app-C8VQvZ0f.js";import{_ as R}from"./CardBox-D-3MIlS4.js";import{_ as B}from"./LayoutMain-ZFijm9Gj.js";import{_ as k}from"./SectionTitleLineWithButton-CORxjxXV.js";import{m as y,a as S,b as E}from"./colors-CEsUPgXD.js";import{_ as p}from"./BaseButton-D751zZDp.js";import{_ as I}from"./BaseButtons-BYm_JhLH.js";import{_ as i}from"./FormField-bCdG-tNU.js";import{_ as n}from"./FormControl-haua1sQz.js";import{_ as O}from"./Select-CVkdm-Ju.js";import T from"./InputFile-CN6hl_XQ.js";import j from"./InputImage-DjMscGzb.js";import _ from"./Iframe-BFd9Qj9f.js";import{_ as A}from"./HeadLogo-BA8DlMdf.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./main-C82n4mBH.js";import"./BaseDivider-ugWBZYPJ.js";import"./_baseGetTag-zIT0YVv4.js";const D={class:"md:grid md:grid-cols-2 gap-4"},M={class:"md:grid md:grid-cols-2 gap-4"},ne={__name:"Create",props:{name:"Create",title:{type:String,required:!0},routeName:{type:String,required:!0}},setup(u){const g=u,d=$(null),V=[{id:1,name:"Activo"},{id:0,name:"No activo"}],e=U({title:null,description:null,start_date:null,end_date:null,status:1,url:null,file:null,image:null,institution_id:null}),f=()=>{e.post(route(`${g.routeName}store`))},b=c(()=>e.file!=null?URL.createObjectURL(e.file):null),v=c(()=>e.image!=null?URL.createObjectURL(e.image):null),h=m=>{F.get(route("institution.filter",m)).then(l=>{d.value=l.data,console.log(d)}).catch(function(l){l.response&&l.response.status==500&&Swal.fire({title:"ERRO!",text:"Error",icon:"info",confirmButtonColor:"#3085d6",confirmButtonText:"Ok!"})})};return x("form",e),(m,l)=>(w(),L(N,null,[r(A,{title:u.title},null,8,["title"]),r(B,null,{default:o(()=>[r(k,{icon:t(y),title:u.title,main:""},{default:o(()=>[r(t(C),{href:m.route(`${u.routeName}index`)},{default:o(()=>l[7]||(l[7]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-x",viewBox:"0 0 16 16"},[s("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})],-1)])),_:1},8,["href"])]),_:1},8,["icon","title"]),r(R,{isForm:"",onSubmit:q(f,["prevent"])},{footer:o(()=>[r(I,null,{default:o(()=>[r(p,{routeName:`${u.routeName}index`,icon:t(S),color:"white",label:"Cancelar"},null,8,["routeName","icon"]),r(p,{onClick:f,icon:t(E),type:"submit",color:"success",label:"Guardar"},null,8,["icon"])]),_:1})]),default:o(()=>[r(i,{label:"Título:",required:"",error:t(e).errors.title},{default:o(()=>[r(n,{height:"h-14",modelValue:t(e).title,"onUpdate:modelValue":l[0]||(l[0]=a=>t(e).title=a),placeholder:"Nombre de la convocatoria"},null,8,["modelValue"])]),_:1},8,["error"]),r(i,{label:"Descripción:",required:"",help:"",error:t(e).errors.description},{default:o(()=>[r(n,{type:"textarea",modelValue:t(e).description,"onUpdate:modelValue":l[1]||(l[1]=a=>t(e).description=a),placeholder:"Descripción",height:"h-56"},null,8,["modelValue"])]),_:1},8,["error"]),s("div",D,[r(i,{label:"Fecha de inicio:",required:"",help:"Inicio de la convocatoria",error:t(e).errors.start_date},{default:o(()=>[r(n,{type:"date",modelValue:t(e).start_date,"onUpdate:modelValue":l[2]||(l[2]=a=>t(e).start_date=a)},null,8,["modelValue"])]),_:1},8,["error"]),r(i,{label:"Fecha fin:",required:"",help:"Fin de la convocatoria",error:t(e).errors.end_date},{default:o(()=>[r(n,{type:"date",modelValue:t(e).end_date,"onUpdate:modelValue":l[3]||(l[3]=a=>t(e).end_date=a)},null,8,["modelValue"])]),_:1},8,["error"])]),r(i,{label:"Estatus:",required:"",error:t(e).errors.status},{default:o(()=>[r(n,{modelValue:t(e).status,"onUpdate:modelValue":l[4]||(l[4]=a=>t(e).status=a),options:V},null,8,["modelValue"])]),_:1},8,["error"]),s("div",M,[r(i,{label:"Url:",help:"",error:t(e).errors.url},{default:o(()=>[r(n,{modelValue:t(e).url,"onUpdate:modelValue":l[5]||(l[5]=a=>t(e).url=a),placeholder:"Agrega un enlace"},null,8,["modelValue"])]),_:1},8,["error"]),r(i,{required:"",label:"Institución:",error:t(e).errors.institution_id,class:"dark:text-white"},{default:o(()=>[r(O,{placeholder:"Busca una institución",modelValue:t(e).institution_id,"onUpdate:modelValue":l[6]||(l[6]=a=>t(e).institution_id=a),options:d.value,onSearch:h},null,8,["modelValue","options"])]),_:1},8,["error"])]),r(T,{file:t(e).file},{iframe:o(()=>[r(_,{url:b.value},null,8,["url"])]),_:1},8,["file"]),r(j,{image:t(e).image},{iframe:o(()=>[r(_,{url:v.value},null,8,["url"])]),_:1},8,["image"])]),_:1})]),_:1})],64))}};export{ne as default};
