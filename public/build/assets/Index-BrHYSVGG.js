import{Q as A,c as V,r as v,m as M,p as F,o as i,a as g,b as l,d as c,F as x,u as a,h as f,l as L,t as h,j as k,e,n as P,v as j,f as z,g as D,s as y}from"./app-C8VQvZ0f.js";import{_ as I}from"./LayoutMain-ZFijm9Gj.js";import{_ as R}from"./HeadLogo-BA8DlMdf.js";import{_ as O}from"./SectionTitleLineWithButton-CORxjxXV.js";import{f as U,e as Z,g as Q,h as q,m as G,i as H,d as J}from"./colors-CEsUPgXD.js";import{_ as w}from"./BaseButtons-BYm_JhLH.js";import{_ as u}from"./BaseButton-D751zZDp.js";import{_ as K}from"./NotificationBar-BzVJ0lcM.js";import{_ as W}from"./CardBox-D-3MIlS4.js";import{C as X}from"./CardBoxComponentEmpty-DJHEVF5S.js";import{P as Y}from"./Pagination-rNIBrX6v.js";import{_ as ee}from"./DropdownTable-BAtOQMZU.js";import{L as te}from"./index-DM3TS9yR.js";import"./main-C82n4mBH.js";import"./BaseDivider-ugWBZYPJ.js";import"./BaseLevel-vlIqV0r8.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const le={class:"flex flex-col md:flex-row justify-between"},re={class:"flex w-full md:w-1/2 my-4"},oe={class:"vl-parent"},we={__name:"Index",props:{name:"Index",title:String,routeName:String,articleTypes:Object,search:String,direction:String},setup(r){const N=A(),$=["Admin","Editor","Revisor"],B=V(()=>{var t,o;return(((o=(t=N.props.auth)==null?void 0:t.user)==null?void 0:o.roles)??[]).some(E=>$.includes(E.name))}),s=r,p=v(s.search),d=v(!1),m=M({filters:{search:p,order:"created_at",direction:s.direction}}),C=()=>{window.open(route("articleType.export"))},b=()=>{y.get(route(`${s.routeName}index`,m.filters),{preserveState:!0})},T=()=>{d.value=!0,y.get(route(`${s.routeName}index`))},_=(n,t)=>{m.filters.order=n,m.filters.direction=t,d.value=!0,y.get(route(`${s.routeName}index`,m.filters))},S=[{label:"Nombre",key:"name",menu:[{title:"A - Z",direction:"asc"},{title:"Z - A",direction:"desc"}]}];return F("filterBy",_),(n,t)=>(i(),g(x,null,[l(R,{title:r.title},null,8,["title"]),l(I,null,{default:c(()=>[l(O,{icon:a(U),title:r.title,main:""},null,8,["icon","title"]),n.$page.props.flash.success?(i(),f(K,{key:0,color:"success",icon:a(Z)},{default:c(()=>[L(h(n.$page.props.flash.success),1)]),_:1},8,["icon"])):k("",!0),e("form",{onSubmit:z(b,["prevent"]),class:"w-full mb-5"},[e("div",le,[e("div",re,[P(e("input",{type:"search","onUpdate:modelValue":t[0]||(t[0]=o=>p.value=o),class:"block pr-10 md:h-11 w-full z-20 text-sm text-gray-900 bg-gray-50 rounded-l-lg md:border-l-gray-300 border-l-gray-300 border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-l-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:border-blue-500",placeholder:"Buscar tipo de artÃ­culo..."},null,512),[[j,p.value]]),l(u,{class:"h-11 rounded-none",onClick:b,icon:a(Q),color:"info"},null,8,["icon"]),l(u,{class:"h-11 rounded-l-none",onClick:T,icon:a(q),color:"lightDark"},null,8,["icon"])]),l(w,{class:"flex space-x-2"},{default:c(()=>[l(u,{routeName:`${r.routeName}create`,color:"info",icon:a(G),label:"Nuevo tipo",class:"flex-1 h-11 rounded-l-lg"},null,8,["routeName","icon"]),B.value?(i(),f(u,{key:0,icon:a(H),color:"success",label:"Exportar a Excel",onClick:C,class:"flex-1 h-11 rounded-r-lg"},null,8,["icon"])):k("",!0)]),_:1})])],32),r.articleTypes.data.length>0?(i(),f(W,{key:1},{default:c(()=>[e("table",null,[e("thead",null,[e("tr",null,[t[2]||(t[2]=e("th",null,null,-1)),e("th",null,[l(ee,{title:"Nombre",options:S})]),t[3]||(t[3]=e("th",null,"Acciones",-1))])]),e("tbody",null,[(i(!0),g(x,null,D(r.articleTypes.data,o=>(i(),g("tr",{key:o.id},[t[4]||(t[4]=e("td",null,[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-book-half",viewBox:"0 0 16 16"},[e("path",{d:"M8.5 2.687c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492V2.687zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783z"})])],-1)),e("td",null,h(o.name),1),e("td",null,[l(w,null,{default:c(()=>[l(u,{routeName:`${r.routeName}edit`,parameter:o.id,icon:a(J),color:"info",small:""},null,8,["routeName","parameter","icon"])]),_:2},1024)])]))),128))])])]),_:1})):(i(),f(X,{key:2})),l(Y,{links:r.articleTypes.links,total:r.articleTypes.total,to:r.articleTypes.to,from:r.articleTypes.from},null,8,["links","total","to","from"]),e("div",oe,[l(a(te),{active:d.value,"onUpdate:active":t[1]||(t[1]=o=>d.value=o),"can-cancel":!1,"is-full-page":!0},null,8,["active"])])]),_:1})],64))}};export{we as default};
