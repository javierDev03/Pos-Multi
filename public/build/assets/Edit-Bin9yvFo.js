import{r as w,T as v,w as x,z as C,o as V,a as g,b as e,d as a,F as $,u as i,i as N,e as u,f as h}from"./app-C8VQvZ0f.js";import{_ as q}from"./CardBox-D-3MIlS4.js";import{_ as B}from"./LayoutMain-ZFijm9Gj.js";import{_ as E}from"./SectionTitleLineWithButton-CORxjxXV.js";import{d as S,a as F,b as k,c as L}from"./colors-CEsUPgXD.js";import{_ as c}from"./BaseButton-D751zZDp.js";import{_ as T}from"./BaseButtons-BYm_JhLH.js";import{S as U}from"./sweetalert2.esm.all-BccGxJ0c.js";/* empty css                        */import{_ as d}from"./FormField-bCdG-tNU.js";import{_ as m}from"./FormControl-haua1sQz.js";import{_ as j}from"./HeadLogo-BA8DlMdf.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./main-C82n4mBH.js";import"./BaseDivider-ugWBZYPJ.js";const M={class:"md:flex md:space-x-4 my-5"},O={class:"md:w-1/2 max-lg:mb-5"},z={class:"md:w-1/2 max-lg:mb-5"},et={__name:"Edit",props:{name:"Edit",title:{type:String,required:!0},routeName:{type:String,required:!0},institution:{type:Object,required:!0},countries:{type:Object,default:{},required:!0},states:{type:Object,default:{},required:!0}},setup(s){const o=s,f=w([]),t=v({id:o.institution.id,name:o.institution.name,country_id:o.institution.country_id,state_id:o.institution.state_id,status:o.institution.status,created_at:o.institution.created_at,updated_at:o.institution.updated_at,deleted_at:o.institution.deleted_at}),_=()=>{t.put(route(`${o.routeName}update`,o.institution.id))},b=()=>{U.fire({title:"¿Esta seguro?",text:"Esta acción no se puede revertir",icon:"warning",showCancelButton:!0,cancelButtonText:"Cancelar",cancelButtonColor:"#1C64F2",confirmButtonColor:"#E02424",confirmButtonText:"Si!, eliminar registro!"}).then(l=>{l.isConfirmed&&t.delete(route(`${o.routeName}destroy`,o.institution.id))})},y=[{id:1,name:"Activo"},{id:0,name:"Inactivo"}],p=()=>{t.country_id!==o.institution.country_id&&(t.state_id=null),f.value=o.states.filter(l=>l.country_id==t.country_id)};return x(()=>t.country_id,p),C(()=>{p()}),(l,r)=>(V(),g($,null,[e(j,{title:s.title},null,8,["title"]),e(B,null,{default:a(()=>[e(E,{icon:i(S),title:s.title,main:""},{default:a(()=>[e(i(N),{href:l.route(`${s.routeName}index`)},{default:a(()=>r[4]||(r[4]=[u("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-x",viewBox:"0 0 16 16"},[u("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})],-1)])),_:1},8,["href"])]),_:1},8,["icon","title"]),e(q,{isForm:"",onSubmit:h(_,["prevent"])},{footer:a(()=>[e(T,null,{default:a(()=>[e(c,{routeName:`${s.routeName}index`,icon:i(F),color:"white",label:"Cancelar"},null,8,["routeName","icon"]),e(c,{onClick:_,icon:i(k),type:"submit",color:"success",label:"Guardar"},null,8,["icon"]),e(c,{color:"danger",icon:i(L),onClick:b,label:"Eliminar"},null,8,["icon"])]),_:1})]),default:a(()=>[e(d,{label:"Nombre:",required:"",error:i(t).errors.name},{default:a(()=>[e(m,{modelValue:i(t).name,"onUpdate:modelValue":r[0]||(r[0]=n=>i(t).name=n),placeholder:"Nombre de la institución"},null,8,["modelValue"])]),_:1},8,["error"]),u("div",M,[u("div",O,[e(d,{required:"",label:"Pais:",error:i(t).errors.country_id},{default:a(()=>[e(m,{modelValue:i(t).country_id,"onUpdate:modelValue":r[1]||(r[1]=n=>i(t).country_id=n),options:s.countries},null,8,["modelValue","options"])]),_:1},8,["error"])]),u("div",z,[e(d,{required:"",label:"Estado:",error:i(t).errors.state_id},{default:a(()=>[e(m,{modelValue:i(t).state_id,"onUpdate:modelValue":r[2]||(r[2]=n=>i(t).state_id=n),options:f.value},null,8,["modelValue","options"])]),_:1},8,["error"])])]),e(d,{required:"",label:"Estatus:",error:i(t).errors.status},{default:a(()=>[e(m,{modelValue:i(t).status,"onUpdate:modelValue":r[3]||(r[3]=n=>i(t).status=n),options:y},null,8,["modelValue"])]),_:1},8,["error"])]),_:1})]),_:1})],64))}};export{et as default};
