import{r as j,T as A,p as c,o as u,a as F,b as t,d as a,F as B,u as i,i as O,e as l,h as b,l as $,t as v,j as w,f as x}from"./app-C8VQvZ0f.js";import{_ as k}from"./CardBox-D-3MIlS4.js";import{_ as E}from"./LayoutMain-ZFijm9Gj.js";import{_ as L}from"./SectionTitleLineWithButton-CORxjxXV.js";import{d as T,e as V,a as z,b as M}from"./colors-CEsUPgXD.js";import{_ as q}from"./BaseButton-D751zZDp.js";import{_ as P}from"./BaseButtons-BYm_JhLH.js";import"./sweetalert2.esm.all-BccGxJ0c.js";/* empty css                        */import{V as R,F as D}from"./flowbite-vue-WjY8nwBi.js";import I from"./Article-d-XJJp_9.js";import U from"./Status-CngJWO-H.js";import{_ as C}from"./NotificationBar-BzVJ0lcM.js";import{_ as G}from"./HeadLogo-BA8DlMdf.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./main-C82n4mBH.js";import"./BaseDivider-ugWBZYPJ.js";import"./FormField-bCdG-tNU.js";import"./FormControl-haua1sQz.js";import"./CardBoxComponentEmpty-DJHEVF5S.js";import"./InputError-XlLNAwgH.js";import"./LabelControl-m7hiFd44.js";import"./Select-CVkdm-Ju.js";import"./_baseGetTag-zIT0YVv4.js";import"./BaseLevel-vlIqV0r8.js";const H={class:"md:grid md:grid-cols-5 gap-4"},J={class:"col-span-2 h-full lg:relative"},be={__name:"Edit",props:{name:"Edit",title:{type:String,required:!0},routeName:{type:String,required:!0},article:{type:Object,required:!0},filePath:{type:String,required:!0},articleStatuses:{type:Object,required:!0},user:{type:Object,required:!0},areas:{type:Object,default:{},required:!0},institutions:{type:Object,default:{},required:!0}},setup(s){var p,f,_,g,y,h;const e=s,n=j("status"),m=A({_method:"patch",id:e.article.id,title:e.article.title,type:e.article.type,article_type_id:e.article.article_type_id,abstract:e.article.abstract,key_works:e.article.key_works,knowledge_area_id:(f=(p=e.article)==null?void 0:p.knowledge_area)==null?void 0:f.id,article_status_id:e.article.article_status_id,call:(g=(_=e.article)==null?void 0:_.call)==null?void 0:g.title,file:null,authors:e.article.authors,selectedArea:(h=(y=e.article)==null?void 0:y.knowledge_area)==null?void 0:h.parent_id}),d=()=>{m.post(route(`${e.routeName}update`,e.article.id))},N=r=>(Array.isArray(r)||(r=[r]),Array.isArray(e.user.roles)&&e.user.roles.some(o=>r.includes(o.name)));return c("form",m),c("props",e),c("getRole",N),(r,o)=>(u(),F(B,null,[t(G,{title:s.title},null,8,["title"]),t(E,null,{default:a(()=>[t(L,{icon:i(T),title:s.title,main:""},{default:a(()=>[t(i(O),{href:r.route(`${s.routeName}index`)},{default:a(()=>o[1]||(o[1]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-x",viewBox:"0 0 16 16"},[l("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})],-1)])),_:1},8,["href"])]),_:1},8,["icon","title"]),r.$page.props.flash.success?(u(),b(C,{key:0,color:"success",icon:i(V),outline:!1},{default:a(()=>[$(v(r.$page.props.flash.success),1)]),_:1},8,["icon"])):w("",!0),r.$page.props.flash.error?(u(),b(C,{key:1,color:"danger",icon:i(V),outline:!1},{default:a(()=>[$(v(r.$page.props.flash.error),1)]),_:1},8,["icon"])):w("",!0),l("div",H,[t(k,{isForm:"",onSubmit:x(d,["prevent"]),class:"col-span-3"},{default:a(()=>[t(I),t(P,{class:"mt-5"},{default:a(()=>[t(q,{routeName:`${e.routeName}index`,icon:i(z),color:"white",label:"Cancelar"},null,8,["routeName","icon"]),t(q,{onClick:d,icon:i(M),type:"submit",color:"success",label:"Actualizar artÃ­culo"},null,8,["icon"])]),_:1})]),_:1}),l("div",J,[t(k,{class:"lg:sticky lg:top-14 lg:overflow-y-auto"},{default:a(()=>[t(i(R),{modelValue:n.value,"onUpdate:modelValue":o[0]||(o[0]=S=>n.value=S),variant:"underline",class:"p-5"},{default:a(()=>[t(i(D),{name:"status",title:"Estatus",disabled:!1},{default:a(()=>[t(U)]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1})],64))}};export{be as default};
